<!DOCTYPE html>
<html>
<head>
	<title>Video Test</title>
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script type="text/javascript" src="./dash/js/ControlBar.js"></script>
	<link rel="stylesheet" type="text/css" href="./dash/css/controlbar.css">
	<style type="text/css">
		#either-gif-or-video{ width: 100% }
@media (-webkit-video-playable-inline) {
    #either-gif-or-video img { display: none; }
    #either-gif-or-video video { display: initial; }
}
#video1{
	width: 100%;
}

	</style>
</head>
<body>

	
						<div class="hls-video-player" id="either-gif-or-video" >
							<nav></nav>
							<video id="video1"  controls playsinline autoplay muted src="https://mta-test.s3-us-west-2.amazonaws.com/output/Good+Bye+Song/Good+Bye+Song.m3u8">
								

							</video>
						</div>


						<a href="sms:95-944-338-888-7" width="500px"> New SMS Message</a>
						<a href="tel:95-944-338-888-7" width="500px"> New SMS Message</a>

						<br>

						<button id="fullScren"> Full Screen</button>

						<script type="text/javascript">
							$(document).ready(function(){
								
								$('#video1').width = screen.width;
								$('#video1').height = screen.height;
								var url = 'https://mta-test.s3-us-west-2.amazonaws.com/output/Good+Morning+Song/Good+Morning+Song+Repair+Master.m3u8';
								myVideo = document.getElementsByTagName('video')[0];
								myVideo.addEventListener('ended', myNewSrc, false);
								function myNewSrc() {
									//alert('ended');
						            var myVideo = document.getElementsByTagName('video')[0];
						            myVideo.src = "https://mta-test.s3-us-west-2.amazonaws.com/output/Good+Morning+Song/Good+Morning+Song+Repair+Master.m3u8";
						            myVideo.load();
						            myVideo.play();
						        }
								$('#fullScren').click(function(){
									toggleFullScreen();
								})

								function toggleFullScreen() {
									  var doc = window.document;
									  var docEl = doc.documentElement;

									  var requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;
									  var cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;

									  if(!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {
									    requestFullScreen.call(docEl);
									  }
									  else {
									    cancelFullScreen.call(doc);
									  }
								}


											var navbar = document.querySelector('nav');

											let unmute = document.createElement('div');
											unmute.innerHTML = "Tab to Un-Mute"
											unmute.style = 'background-color: white; opacity : 0.2;position: absolute; display: block; left: 100px; top: 100px; width: 50%; height: 100px; z-index: 999; font-size: 1rem; padding: 2%; border-radius: 20px;';
											unmute.onclick = function() {
											  myVideo.muted = !myVideo.muted;
											  if(myVideo.webkitEnterFullScreen){
											  	myVideo.webkitEnterFullScreen();
											  }									
											  myVideo.play();		  
											  console.log('UNMUTE');
											}
											navbar.appendChild(unmute);

							});

						</script>
</body>
</html>